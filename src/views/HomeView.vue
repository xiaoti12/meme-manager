<template>
  <div class="container mx-auto px-4 py-8">
    <!-- è¡¨æƒ…åŒ…åˆ†ç±»å±•ç¤º -->
    <div v-if="memeStore.filteredMemes.length > 0" class="space-y-12">
      <!-- è¡¨æƒ…åŒ…åˆ†ç±» -->
      <CategorySection
        v-if="memeStore.memesByCategory.emoji.length > 0"
        title="è¡¨æƒ…åŒ…"
        icon="ğŸ˜€"
        :memes="memeStore.memesByCategory.emoji"
        category="emoji"
      />

      <!-- åŠ¨æ¼«åˆ†ç±» -->
      <CategorySection
        v-if="memeStore.memesByCategory.anime.length > 0"
        title="åŠ¨æ¼«"
        icon="ğŸ¨"
        :memes="memeStore.memesByCategory.anime"
        category="anime"
      />

      <!-- å…¶ä»–åˆ†ç±» -->
      <CategorySection
        v-if="memeStore.memesByCategory.other.length > 0"
        title="å…¶ä»–"
        icon="ğŸ“‚"
        :memes="memeStore.memesByCategory.other"
        category="other"
      />
    </div>

    <!-- ç©ºçŠ¶æ€ -->
    <div v-else class="text-center py-16">
      <div class="glass-effect backdrop-blur-custom rounded-3xl p-12 card-shadow max-w-md mx-auto">
        <div class="text-6xl mb-6">ğŸ­</div>
        <h3 class="text-xl font-semibold text-gray-700 mb-4">è¿˜æ²¡æœ‰è¡¨æƒ…åŒ…</h3>
        <p class="text-gray-500 mb-8">å¼€å§‹ä¸Šä¼ ä½ çš„ç¬¬ä¸€ä¸ªè¡¨æƒ…åŒ…å§ï¼</p>
        <router-link to="/upload">
          <el-button type="primary" size="large" round class="px-8">
            ğŸ“¤ å¼€å§‹ä¸Šä¼ 
          </el-button>
        </router-link>
      </div>
    </div>

    <!-- ä¸Šä¼ æç¤º -->
    <div class="glass-effect backdrop-blur-custom rounded-3xl p-8 card-shadow mt-12">
      <div class="text-center">
        <h3 class="text-xl font-semibold text-gray-700 mb-4">âœ¨ æ·»åŠ æ›´å¤šè¡¨æƒ…åŒ…</h3>
        <p class="text-gray-600 mb-6">æ”¯æŒæ‹–æ‹½ä¸Šä¼ ï¼Œè‡ªåŠ¨OCRè¯†åˆ«æ–‡å­—ï¼ŒAIåˆ†æå›¾ç‰‡å†…å®¹</p>
        <router-link to="/upload">
          <el-button type="primary" size="large" round class="px-8 hover-lift">
            ğŸ“¤ ä¸Šä¼ å›¾ç‰‡
          </el-button>
        </router-link>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useMemeStore } from '@/stores/meme'
import CategorySection from '@/components/CategorySection.vue'

const memeStore = useMemeStore()
</script>

<style scoped>
.container {
  max-width: 1200px;
}
</style>